(window.webpackJsonptools=window.webpackJsonptools||[]).push([[0],{17:function(e,t,a){e.exports=a(49)},49:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(6),r=a.n(o),c=a(3),i=a(1),s=a(2),m=a.n(s),d=function(e){var t=e.title?e.title:"",a=e.content?e.content.split("\n").map((function(e,t){return l.a.createElement("p",{key:t},e)})):"",n=e.cta&&e.cta.label?e.cta.label:"Read More",o=e.cta&&e.cta.url?e.cta.url:"",r=e.cta&&e.cta.target?e.cta.target:"_self";return l.a.createElement("article",{className:"tool-glossary-terms-term"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("div",{className:"grid-x grid-margin-x"},l.a.createElement("header",{className:"tool-glossary-terms-term-header cell large-3 medium-4"},l.a.createElement("h3",null,t)),l.a.createElement("section",{className:"tool-glossary-terms-term-body cell large-9 medium-8"},a,o?l.a.createElement("a",{href:o,target:r,className:"tool-glossary-terms-term-body-cta"},n):null))))},u=function(e){var t=e.loaderClass;return l.a.createElement("div",{className:t+" site-content-loader hide"},l.a.createElement("div",{className:"grid-x"},l.a.createElement("div",{className:"small-12"},l.a.createElement("div",{className:"site-content-loader-icon"}))))},p=function(e){var t=e.terms,a=e.isLoading;return l.a.createElement("section",{className:"tool-glossary-terms"},a||t.length?t.map((function(e){return l.a.createElement(d,{title:e.title,content:e.content,cta:e.cta,key:e.id})})):l.a.createElement("div",{className:"tool-glossary-terms-empty grid-container"},l.a.createElement("div",{className:"grid-x grid-margin-x"},l.a.createElement("div",{className:"cell medium-6 medium-offset-3"},l.a.createElement("h2",null,"No Terms Found")),l.a.createElement("div",{className:"cell medium-8 medium-offset-2"},l.a.createElement("p",null,"Please try altering your query to return more results.")))),l.a.createElement(u,{loaderClass:"site-content-loader-glossary-tool"}))},f=function(e){return l.a.createElement("div",null,l.a.createElement("section",{className:"tool-glossary-filter"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("form",{id:"tool-glossary-filter-form",action:"",method:"post"},l.a.createElement("div",{className:"grid-x grid-margin-x"},l.a.createElement("div",{className:"tool-glossary-filter-form-intro cell large-3 medium-12"},l.a.createElement("h3",null,"Find Term"),l.a.createElement("p",null,"Filter by type or perform a keyword search to discover your desired term.")),l.a.createElement("div",{className:"tool-glossary-filter-form-content cell large-9 medium-12"},l.a.createElement("p",{className:"form-field form-field-50"},l.a.createElement("label",{htmlFor:"select-term_types"},"Types"),l.a.createElement("select",{id:"select-term_types",name:"term_types",value:e.type,onChange:function(t){e.updateType(t.target.value),e.updateTerms([]),e.updateHasMore(!0),e.updatePage(1)}},l.a.createElement("option",{value:""},"All Types"),e.types.map((function(e){return l.a.createElement("option",{key:e.id,value:e.slug},e.name)})))),l.a.createElement("p",{className:"form-field form-field-50"},l.a.createElement("label",{htmlFor:"form-field-search"},"Search"),l.a.createElement("input",{type:"text",name:"form_field_search",id:"form-field-search",value:e.search,onChange:function(t){e.updateSearch(t.target.value),e.updateTerms([]),e.updateHasMore(!0),e.updatePage(1)}}))))))),l.a.createElement(p,{terms:e.terms,isLoading:e.isLoading}))},y=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),d=s[0],u=s[1],p=Object(n.useState)([]),y=Object(i.a)(p,2),g=y[0],b=y[1],E=Object(n.useState)(!0),v=Object(i.a)(E,2),h=v[0],O=v[1],j=Object(n.useState)(!1),N=Object(i.a)(j,2),w=N[0],x=N[1],_=Object(n.useState)(1),S=Object(i.a)(_,2),T=S[0],C=S[1],k=Object(n.useState)(),P=Object(i.a)(k,2),B=P[0],L=P[1],I=Object(n.useState)([]),D=Object(i.a)(I,2),M=D[0],A=D[1];return Object(n.useLayoutEffect)((function(){var e=document.location.origin;m.a.get("".concat(e,"/wp-json/wp/v2/term_types")).then((function(e){var t=e.body.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));b(t)}))}),[]),Object(n.useEffect)((function(){!function(){x(!0);var e=document.getElementById("select-term_types").value,t=document.getElementById("form-field-search").value,a=document.location.origin;m.a.get("".concat(a,"/wp-json/terms/v1/post?s=").concat(t,"&term_types=").concat(e)).then((function(e){if(e.body.posts.length){var t=e.body.posts.map((function(e){return{title:e.title,id:e.id,content:e.content,cta:{label:e.acf?e.acf.cta_i.label:"Read more",target:e.acf?e.acf.cta_i.target:"_self",url:e.acf?e.acf.cta_i.url:""}}}));A(t),C(2),x(!1),L(e.body.max_pages)}else A([]),O(!1),x(!1)}))}()}),[d,a]),Object(n.useEffect)((function(){var e=document.querySelector(".site-content-loader");w?e.classList.remove("hide"):e.classList.add("hide")}),[w]),Object(n.useEffect)((function(){var e=window.innerWidth>=640?.75:.6;window.onscroll=function(){!h||w||T>B||window.innerHeight+document.documentElement.scrollTop>document.documentElement.offsetHeight*e&&function(){x(!0);var e=document.getElementById("select-term_types").value,t=document.getElementById("form-field-search").value,a=document.location.origin;m.a.get("".concat(a,"/wp-json/terms/v1/post?page=").concat(T,"&s=").concat(t,"&term_types=").concat(e)).then((function(e){if(e.body.posts.length){var t=e.body.posts.map((function(e){return{title:e.title,id:e.id,content:e.content,cta:{label:e.acf.cta_i.label,target:e.acf.cta_i.target,url:e.acf.cta_i.url}}}));A([].concat(Object(c.a)(M),Object(c.a)(t))),C(T+1),x(!1)}else O(!1),x(!1)}))}()}})),l.a.createElement("div",null,l.a.createElement(f,{search:a,updateSearch:o,type:d,updateType:u,types:g,updateTypes:b,hasMore:h,updateHasMore:O,terms:M,updateTerms:A,updatePage:C,isLoading:w}))},g=function(e){var t=e.title?e.title:"",a=e.content?e.content.split("\n").map((function(e,t){return l.a.createElement("p",{key:t},e)})):"",n=e.url?e.url:"";return l.a.createElement("article",{className:"tool-external-resources-resource"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("div",{className:"grid-x"},l.a.createElement("header",{className:"tool-external-resources-resource-header cell medium-12"},l.a.createElement("h3",null,n?l.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},t):t)),l.a.createElement("section",{className:"tool-external-resources-resource-body cell medium-12"},a))))},b=function(e){var t=e.externalResources,a=e.isLoading;return l.a.createElement("section",{className:"tool-external-resources-resources"},a||t.length?t.map((function(e){return l.a.createElement(g,{title:e.title,content:e.content,url:e.url,key:e.id})})):l.a.createElement("div",{className:"tool-external-resources-resources-empty grid-container"},l.a.createElement("div",{className:"grid-x grid-margin-x"},l.a.createElement("div",{className:"cell medium-6 medium-offset-3"},l.a.createElement("h2",null,"No External Resources Found")),l.a.createElement("div",{className:"cell medium-8 medium-offset-2"},l.a.createElement("p",null,"Please try altering your query to return more results.")))),l.a.createElement(u,{loaderClass:"site-content-loader-external-resources-tool"}))},E=function(e){return l.a.createElement("div",null,l.a.createElement("section",{className:"tool-external-resources-filter"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("form",{id:"tool-external-resources-filter-form",action:"",method:"post"},l.a.createElement("div",{className:"grid-x grid-margin-x"},l.a.createElement("div",{className:"tool-external-resources-filter-form-intro cell large-3 medium-12"},l.a.createElement("h3",null,"Filter External Resources"),l.a.createElement("p",null,"Filter by type or perform a keyword search to discover your desired external resource.")),l.a.createElement("div",{className:"tool-external-resources-filter-form-content cell large-9 medium-12"},l.a.createElement("p",{className:"form-field form-field-50"},l.a.createElement("label",{htmlFor:"select-external_resource_types"},"Types"),l.a.createElement("select",{id:"select-external_resource_types",name:"external_resource_types",value:e.type,onChange:function(t){e.updateType(t.target.value),e.updateExternalResources([]),e.updateHasMore(!0),e.updatePage(1)}},l.a.createElement("option",{value:""},"All Types"),e.types.map((function(e){return l.a.createElement("option",{key:e.id,value:e.slug},e.name)})))),l.a.createElement("p",{className:"form-field form-field-50"},l.a.createElement("label",{htmlFor:"form-field-search"},"Search"),l.a.createElement("input",{type:"text",name:"form_field_search",id:"form-field-search",value:e.search,onChange:function(t){e.updateSearch(t.target.value),e.updateExternalResources([]),e.updateHasMore(!0),e.updatePage(1)}}))))))),l.a.createElement(b,{externalResources:e.externalResources,isLoading:e.isLoading}))},v=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),d=s[0],u=s[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),y=f[0],g=f[1],b=Object(n.useState)(!0),v=Object(i.a)(b,2),h=v[0],O=v[1],j=Object(n.useState)(!1),N=Object(i.a)(j,2),w=N[0],x=N[1],_=Object(n.useState)(1),S=Object(i.a)(_,2),T=S[0],C=S[1],k=Object(n.useState)(),P=Object(i.a)(k,2),B=P[0],L=P[1],I=Object(n.useState)([]),D=Object(i.a)(I,2),M=D[0],A=D[1];return Object(n.useLayoutEffect)((function(){var e=document.location.origin;m.a.get("".concat(e,"/wp-json/wp/v2/external_resource_types")).then((function(e){var t=e.body.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));g(t)}))}),[]),Object(n.useEffect)((function(){!function(){x(!0);var e=document.getElementById("select-external_resource_types").value,t=document.getElementById("form-field-search").value,a=document.location.origin;m.a.get("".concat(a,"/wp-json/external-resources/v1/post?s=").concat(t,"&external_resource_types=").concat(e)).then((function(e){if(e.body.posts.length){var t=e.body.posts.map((function(e){return{title:e.title,id:e.id,content:e.content,url:e.acf.url}}));A(t),C(2),x(!1),L(e.body.max_pages)}else A([]),O(!1),x(!1)}))}()}),[d,a]),Object(n.useEffect)((function(){var e=document.querySelector(".site-content-loader");w?e.classList.remove("hide"):e.classList.add("hide")}),[w]),Object(n.useEffect)((function(){var e=window.innerWidth>=640?.5:.35;window.onscroll=function(){!h||w||T>B||window.innerHeight+document.documentElement.scrollTop>document.documentElement.offsetHeight*e&&function(){x(!0);var e=document.getElementById("select-external_resource_types").value,t=document.getElementById("form-field-search").value,a=document.location.origin;m.a.get("".concat(a,"/wp-json/external-resources/v1/post?page=").concat(T,"&s=").concat(t,"&external_resource_types=").concat(e)).then((function(e){if(e.body.posts.length){var t=e.body.posts.map((function(e){return{title:e.title,id:e.id,content:e.content,url:e.acf.url}}));A([].concat(Object(c.a)(M),Object(c.a)(t))),C(T+1),x(!1)}else O(!1),x(!1)}))}()}})),l.a.createElement("div",null,l.a.createElement(E,{search:a,updateSearch:o,type:d,updateType:u,types:y,updateTypes:g,hasMore:h,updateHasMore:O,externalResources:M,updateExternalResources:A,updatePage:C,isLoading:w}))},h=a(4),O=function(e){var t=e.origin,a=e.origins,n=e.updateOrigin,o=e.destination,r=e.destinations,c=e.updateDestination,i=e.search,s=e.updateSearch,m=e.updateBorders,d=e.updateHasMore,u=e.updatePage;return l.a.createElement("div",{className:"tool-borders-filter"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("form",{id:"tool-borders-filter-form",action:"",method:"post"},l.a.createElement("div",{className:"grid-x grid-margin-x"},l.a.createElement("div",{className:"tool-borders-filter-form-intro cell large-3 medium-12"},l.a.createElement("h3",null,"Get Border Info"),l.a.createElement("p",null,"Filter borders by origin or destination to discover your desired crossing.")),l.a.createElement("div",{className:"tool-borders-filter-form-content cell large-9 medium-12"},l.a.createElement("p",{className:"form-field form-field-33"},l.a.createElement("label",{htmlFor:"select-origin"},"Origin"),l.a.createElement("select",{id:"select-origin",name:"origins",value:t,onChange:function(e){n(e.target.value),m([]),d(!0),u(1)}},l.a.createElement("option",{value:""},"All Origins"),a.map((function(e){return l.a.createElement("option",{key:e.id,value:e.slug},e.name)})))),l.a.createElement("p",{className:"form-field form-field-33"},l.a.createElement("label",{htmlFor:"select-destination"},"Destination"),l.a.createElement("select",{id:"select-destination",name:"destinations",value:o,onChange:function(e){c(e.target.value),m([]),d(!0),u(1)}},l.a.createElement("option",{value:""},"All Destinations"),r.map((function(e){return l.a.createElement("option",{key:e.id,value:e.slug},e.name)})))),l.a.createElement("p",{className:"form-field form-field-33"},l.a.createElement("label",{htmlFor:"form-field-search"},"Search"),l.a.createElement("input",{type:"text",name:"form_field_search",id:"form-field-search",value:i,onChange:function(e){s(e.target.value),m([]),d(!0),u(1)}})))))))},j=function(){return l.a.createElement("thead",{className:"tool-borders-table-header"},l.a.createElement("tr",null,l.a.createElement("th",null,"Port of Origin"),l.a.createElement("th",null,"Origin"),l.a.createElement("th",null,"Highway"),l.a.createElement("th",null,"Crossing"),l.a.createElement("th",null,"Port of Exit"),l.a.createElement("th",null,"Destination"),l.a.createElement("th",null,"Details")))};function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var w=function(e){var t=e.id,a=e.index,n=e.details,o=e.highway,r=e.crossing,c=e.origin,i=e.originWeather,s=e.requestOriginWeather,m=e.destination,d=e.destinationWeather,u=e.requestDestinationWeather,p=e.map,f=e.maps,y=e.updateMaps,g=e.showBorderDetails,b=c.port?c.port:String.fromCharCode(8212),E=c.city?c.city:String.fromCharCode(8212),v=c.state_province?c.state_province:String.fromCharCode(8212);o=o||String.fromCharCode(8212),r=r||String.fromCharCode(8212);var O=m.port?m.port:String.fromCharCode(8212),j=m.city?m.city:String.fromCharCode(8212),w=m.state_province?m.state_province:String.fromCharCode(8212);return l.a.createElement("tr",{className:"tool-borders-table-body-row-summary tool-borders-table-body-row-summary-"+a},l.a.createElement("td",{"data-label":"Port of Origin"},b),l.a.createElement("td",{"data-label":"Origin"},E,", ",v),l.a.createElement("td",{"data-label":"Highway"},o),l.a.createElement("td",{"data-label":"Crossing"},r),l.a.createElement("td",{"data-label":"Port of Exit"},O),l.a.createElement("td",{"data-label":"Destination"},j,", ",w),l.a.createElement("td",null,n?l.a.createElement("button",{className:"tool-borders-table-body-row-details-trigger","aria-label":"Show",onClick:function(e){if(s(c,i,t),u(m,d,t),g(e,t),!isNaN(p.lat)||!isNaN(p.lng)){var a={};a[t]={lat:p.lat?p.lat:42.303131,lng:p.lng?p.lng:-83.015341},y(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,{},f))}}},l.a.createElement("span",{className:"tool-borders-table-body-row-details-trigger-label hide-for-medium"},"View Details")):"N/A"))},x=a(5),_=a.n(x),S=function(e){var t=e.googleMapsApiKey,a=e.id,n=e.maps,o={lat:parseFloat(n[a].lat),lng:parseFloat(n[a].lng)};return l.a.createElement(_.a,{bootstrapURLKeys:{key:t},defaultCenter:o,zoom:11,layerTypes:["TrafficLayer"],options:{styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#0a0a0a"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f6f6f6"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#dcdcdc"},{visibility:"on"}]}]}})},T=function(e){var t=e.googleMapsApiKey,a=e.index,n=e.id,o=e.title,r=e.description,c=e.permalink,i=e.origin,s=e.originWeather,m=e.destination,d=e.destinationWeather,u=e.maps;return l.a.createElement("tr",{className:"tool-borders-table-body-row-details tool-borders-table-body-row-details-"+a+" hidden"},l.a.createElement("td",{colSpan:"7"},l.a.createElement("div",{className:"tool-borders-table-body-row-details-inner grid-x grid-margin-x",id:n},l.a.createElement("div",{className:"cell medium-6 medium-order-2 small-order-1"},l.a.createElement("div",{className:"tool-borders-table-body-row-details-map"},!!u[n]&&l.a.createElement(S,{googleMapsApiKey:t,id:n,maps:u}))),l.a.createElement("div",{className:"cell medium-6 medium-order-1 small-order-2"},l.a.createElement("div",{className:"tool-borders-table-body-row-details-title"},l.a.createElement("h3",null,o),l.a.createElement("p",null,r),l.a.createElement("a",{className:"tool-borders-table-body-row-details-permalink",href:c},"Read More")),!!(i.toggle&&i.city&&i.address_i&&(i.email||i.phone||i.fax)||m.toggle&&m.city&&m.address_i&&(m.email||m.phone||m.fax))&&l.a.createElement("div",{className:"tool-borders-table-body-row-details-contact grid-x"},!!(i.toggle&&i.city&&i.address_i&&(i.email||i.phone||i.fax))&&l.a.createElement("div",{className:"tool-borders-table-body-row-details-contact-origin cell medium-6"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("h4",null,"Origin Branch Info")),!!i.address_i&&l.a.createElement("li",null,i.address_i),!!i.address_ii&&l.a.createElement("li",null,i.address_ii),!!i.postal_zip_code&&l.a.createElement("li",null,i.postal_zip_code)),l.a.createElement("ul",null,!!i.email&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-contact-origin-email"},l.a.createElement("a",{href:"mailto:".concat(i.email)},i.email)),!!i.phone&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-contact-origin-phone"},l.a.createElement("a",{href:"tel:".concat(i.phone)},i.phone)),!!i.fax&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-contact-origin-fax"},l.a.createElement("a",{href:"fax:".concat(i.fax)},i.fax)))),!!(m.toggle&&m.city&&m.address_i&&(m.email||m.phone||m.fax))&&l.a.createElement("div",{className:"tool-borders-table-body-row-details-contact-destination cell medium-6"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("h4",null,"Destination Branch Info")),!!m.address_i&&l.a.createElement("li",null,m.address_i),!!m.address_ii&&l.a.createElement("li",null,m.address_ii),!!m.postal_zip_code&&l.a.createElement("li",null,m.postal_zip_code)),l.a.createElement("ul",null,!!m.email&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-contact-destination-email"},l.a.createElement("a",{href:"mailto:".concat(m.email)},m.email)),!!m.phone&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-contact-destination-phone"},l.a.createElement("a",{href:"tel:".concat(m.phone)},m.phone)),!!m.fax&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-contact-destination-fax"},l.a.createElement("a",{href:"fax:".concat(m.fax)},m.fax))))),l.a.createElement("div",{className:"tool-borders-table-body-row-details-weather grid-x"},l.a.createElement("ul",{className:"tool-borders-table-body-row-details-weather-origin cell medium-6"},!!i.city&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-weather-title"},l.a.createElement("h4",null,i.city?"Current Weather in ".concat(i.city):"Current Weather")),!!s[n]&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-weather-details"},s[n].temp&&s[n].description?"".concat(s[n].temp).concat(String.fromCharCode(8451)," ").concat(String.fromCharCode(8212)," ").concat(s[n].description):"N/A")),l.a.createElement("ul",{className:"tool-borders-table-body-row-details-weather-destination cell medium-6"},!!m.city&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-weather-title"},l.a.createElement("h4",null,m.city?"Current Weather in ".concat(m.city):"Current Weather")),!!d[n]&&l.a.createElement("li",{className:"tool-borders-table-body-row-details-weather-details"},d[n].temp&&d[n].description?"".concat(d[n].temp).concat(String.fromCharCode(8451)," ").concat(String.fromCharCode(8212)," ").concat(d[n].description):"N/A")))))))},C=function(){return l.a.createElement("tr",{className:"tool-borders-table-body-row-noresults"},l.a.createElement("td",{colSpan:"7"},"No Borders Found"))},k=function(e){var t=e.googleMapsApiKey,a=e.borders,n=e.showBorderDetails,o=e.originWeather,r=e.requestOriginWeather,c=(e.updateOriginWeather,e.destinationWeather),i=e.requestDestinationWeather,s=(e.updateDestinationWeather,e.maps),m=e.updateMaps,d=e.isLoading;return l.a.createElement("div",{className:"tool-borders-table-container"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("div",{className:"grid-x grid-margin-x"},l.a.createElement("table",{className:"tool-borders-table cell medium-12"},l.a.createElement(j,null),l.a.createElement("tbody",{className:"tool-borders-table-body"},d||a.length?a.map((function(e,a){return l.a.createElement(l.a.Fragment,{key:e.id},l.a.createElement(w,{id:e.id,index:a,details:e.details,highway:e.highway,crossing:e.crossing,origin:e.origin,originWeather:o,requestOriginWeather:r,destination:e.destination,destinationWeather:c,requestDestinationWeather:i,map:e.map,maps:s,updateMaps:m,showBorderDetails:n}),l.a.createElement(T,{id:e.id,index:a,googleMapsApiKey:t,title:e.title,description:e.description,permalink:e.permalink,origin:e.origin,originWeather:o,destination:e.destination,destinationWeather:c,maps:s}))})):l.a.createElement(C,null))))),l.a.createElement(u,{loaderClass:"site-content-loader-borders-tool"}))};function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],r=a[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),u=d[0],p=d[1],f=Object(n.useState)([]),y=Object(i.a)(f,2),g=y[0],b=y[1],E=Object(n.useState)(""),v=Object(i.a)(E,2),h=v[0],j=v[1],N=Object(n.useState)([]),w=Object(i.a)(N,2),x=w[0],_=w[1],S=Object(n.useState)([]),T=Object(i.a)(S,2),C=T[0],P=T[1],L=Object(n.useState)({}),I=Object(i.a)(L,2),D=I[0],M=I[1],A=Object(n.useState)({}),W=Object(i.a)(A,2),F=W[0],H=W[1],K=Object(n.useState)({}),R=Object(i.a)(K,2),q=R[0],z=R[1],J=Object(n.useState)(!0),U=Object(i.a)(J,2),V=U[0],G=U[1],Q=Object(n.useState)(!1),X=Object(i.a)(Q,2),Y=X[0],Z=X[1],$=Object(n.useState)(1),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(),le=Object(i.a)(ne,2),oe=le[0],re=le[1];return Object(n.useLayoutEffect)((function(){var e=document.location.origin;m.a.get("".concat(e,"/wp-json/wp/v2/origins")).then((function(e){var t=e.body.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));b(t)})),m.a.get("".concat(e,"/wp-json/wp/v2/destinations")).then((function(e){var t=e.body.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));_(t)}))}),[]),Object(n.useEffect)((function(){!function(){Z(!0);var e=document.getElementById("select-origin").value,t=document.getElementById("select-destination").value,a=document.getElementById("form-field-search").value,n=document.location.origin;m.a.get("".concat(n,"/wp-json/borders/v1/post?s=").concat(a,"&origins=").concat(e,"&destinations=").concat(t)).then((function(e){if(e.body.posts.length){var t=e.body.posts.map((function(e){return{id:e.id,permalink:e.permalink,details:!!e.acf.show_details&&e.acf.show_details,title:e.title,description:e.acf.description?e.acf.description:"",crossing:e.acf.crossing?e.acf.crossing:"N/A",highway:e.acf.highway?e.acf.highway:"N/A",origin:e.acf.origin?e.acf.origin:"",destination:e.acf.destination?e.acf.destination:"",map:e.acf.map?e.acf.map:""}}));P(t),ae(2),Z(!1),re(e.body.max_pages)}else P([]),G(!1),Z(!1)}))}()}),[u,h,o]),Object(n.useEffect)((function(){var e=document.querySelector(".site-content-loader");Y?e.classList.remove("hide"):e.classList.add("hide")}),[Y]),Object(n.useEffect)((function(){window.onscroll=function(){!V||Y||te>oe||window.innerHeight+document.documentElement.scrollTop>.75*document.documentElement.offsetHeight&&function(){Z(!0);var e=document.getElementById("select-origin").value,t=document.getElementById("select-destination").value,a=document.getElementById("form-field-search").value,n=document.location.origin;m.a.get("".concat(n,"/wp-json/borders/v1/post?page=").concat(te,"&s=").concat(a,"&origin=").concat(e,"&destination=").concat(t)).then((function(e){if(e.body.posts.length){var t=e.body.posts.map((function(e){return{id:e.id,permalink:e.permalink,details:!!e.acf.show_details&&e.acf.show_details,title:e.title,description:e.acf.description?e.acf.description:"",crossing:e.acf.crossing?e.acf.crossing:"N/A",highway:e.acf.highway?e.acf.highway:"N/A",origin:e.acf.origin?e.acf.origin:"",destination:e.acf.destination?e.acf.destination:"",map:e.acf.map?e.acf.map:""}}));P([].concat(Object(c.a)(C),Object(c.a)(t))),ae(te+1),Z(!1)}else G(!1),Z(!1)}))}()}})),l.a.createElement(l.a.Fragment,null,l.a.createElement(O,{origin:u,origins:g,updateOrigin:p,destination:h,destinations:x,updateDestination:j,search:o,updateSearch:r,updateBorders:P,updateHasMore:G,updatePage:ae}),l.a.createElement(k,{googleMapsApiKey:e.googleMapsApiKey,borders:C,originWeather:F,updateOriginWeather:H,requestOriginWeather:function(e,t,a){if(!(""===e.city||void 0!==t[a]&&parseInt(Date.now()/1e3)<t[a].expiry_time)){var n=document.location.origin;m.a.get("".concat(n,"/wp-json/borders/v1/weather?city=").concat(e.city)).then((function(e){var n={};n[a]=JSON.parse(e.text),H(B({},n,{},t))}))}},destinationWeather:q,updateDestinationWeather:z,requestDestinationWeather:function(e,t,a){if(!(""===e.city||void 0!==t[a]&&parseInt(Date.now()/1e3)<t[a].expiry_time)){var n=document.location.origin;m.a.get("".concat(n,"/wp-json/borders/v1/weather?city=").concat(e.city)).then((function(e){var n={};n[a]=JSON.parse(e.text),z(B({},n,{},t))}))}},maps:D,updateMaps:M,isLoading:Y,showBorderDetails:function(e,t){var a=e.target.querySelector(".tool-borders-table-body-row-details-trigger-label");e.target.classList.contains("active")?(e.target.classList.remove("active"),e.target.setAttribute("aria-label","Show"),a.textContent="View Details"):(e.target.classList.add("active"),e.target.setAttribute("aria-label","Hide"),a.textContent="Hide Details");var n=document.getElementById(t),l=n.parentNode.parentNode,o=n.scrollHeight,r=!n.clientHeight;n.style.height=(r?o+40:0)+"px",l.classList.contains("visible")?(l.classList.remove("visible"),l.classList.add("hidden")):(l.classList.remove("hidden"),l.classList.add("visible"))}}))},I=function(e){var t=e.updateLocations,a=e.type,n=e.updateType,o=e.types,r=(e.updateTypes,e.search),c=e.updateSearch,i=e.country,s=e.updateCountry,m=e.countries,d=(e.updateCountries,e.stateProvince),u=e.updateStateProvince,p=e.stateProvinces,f=(e.updateStateProvinces,e.city),y=e.updateCity,g=e.cities;e.updateCities;return l.a.createElement("div",{className:"tool-locations-filter"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("form",{id:"tool-locations-filter-form",action:"",method:"post"},l.a.createElement("div",{className:"grid-x grid-margin-x"},l.a.createElement("div",{className:"tool-locations-filter-form-intro cell large-3 medium-12"},l.a.createElement("h3",null,"Filter Locations & Contacts"),l.a.createElement("p",null,"Locations can be sorted by country, state/province, city, and type. Additionally, a keyword search is available for more granular filtering (e.g. staff name, service etc.).")),l.a.createElement("div",{className:"tool-locations-filter-form-content cell large-9"},l.a.createElement("p",{className:"form-field form-field-33"},l.a.createElement("label",{htmlFor:"select-country"},"Country"),l.a.createElement("select",{id:"select-country",name:"select-country",value:i,onChange:function(e){s(e.target.value),t([])}},l.a.createElement("option",{value:""},"All Countries"),m.map((function(e){return l.a.createElement("option",{key:e.id,value:e.slug},e.name)})))),l.a.createElement("p",{className:"form-field form-field-33"},l.a.createElement("label",{htmlFor:"select-state_province"},"State/Province"),l.a.createElement("select",{id:"select-state_province",name:"select-state_province",value:d,onChange:function(e){u(e.target.value),t([])}},l.a.createElement("option",{value:""},"All State/Provinces"),p.map((function(e){return l.a.createElement("option",{key:e.id,value:e.slug},e.name)})))),l.a.createElement("p",{className:"form-field form-field-33"},l.a.createElement("label",{htmlFor:"select-city"},"City"),l.a.createElement("select",{id:"select-city",name:"select-city",value:f,onChange:function(e){y(e.target.value),t([])}},l.a.createElement("option",{value:""},"All Cities"),g.map((function(e){return l.a.createElement("option",{key:e.id,value:e.slug},e.name)})))),l.a.createElement("p",{className:"form-field form-field-33"},l.a.createElement("label",{htmlFor:"select-location_type"},"Type"),l.a.createElement("select",{id:"select-location_type",name:"select-location_type",value:a,onChange:function(e){n(e.target.value),t([])}},l.a.createElement("option",{value:""},"All Types"),o.map((function(e){return l.a.createElement("option",{key:e.id,value:e.slug},e.name)})))),l.a.createElement("p",{className:"form-field form-field-66"},l.a.createElement("label",{htmlFor:"form-field_search"},"Search"),l.a.createElement("input",{type:"text",name:"form_field_search",id:"form-field_search",value:r,onChange:function(e){c(e.target.value),t([])}})))))))},D=function(){return l.a.createElement("div",{className:"tool-locations-map-marker"})},M=function(e){var t=e.id,a=(e.city,e.title),n=e.googleMapsApiKey,o=e.map,r=e.maps,c=e.permalink,i=e.contacts,s=e.additionalNotes,m=e.details,d={lat:parseFloat(o.lat),lng:parseFloat(o.lng)};return l.a.createElement("section",{id:t,className:"tool-locations-map-location"},l.a.createElement("div",{className:"tool-locations-map-location-header"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("div",{className:"grid-x"},!!a&&l.a.createElement("h2",null,a),l.a.createElement("button",{className:"tool-locations-map-location-close","aria-label":"Close",onClick:function(e){var a=document.getElementById(t);document.getElementsByClassName("site-content-overlay")[0].className="site-content-overlay",a.className="tool-locations-map-location",a.style.height="0px"}})))),l.a.createElement("div",{className:"tool-locations-map-location-body"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("div",{className:"grid-x grid-margin-x"},l.a.createElement("div",{className:"cell large-6"},!!r[t]&&l.a.createElement("div",{className:"tool-locations-map-location-body-map"},l.a.createElement(_.a,{bootstrapURLKeys:{key:n},defaultCenter:d,zoom:9,options:{styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#0a0a0a"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f6f6f6"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#dcdcdc"},{visibility:"on"}]}]}},l.a.createElement(D,{lat:o.lat,lng:o.lng}))),l.a.createElement("div",{className:"tool-locations-map-location-body-details"},l.a.createElement("ul",{className:"tool-locations-map-location-body-details-details"},!!m&&l.a.createElement("h4",{className:"tool-locations-map-location-body-details-details-title"},"Details"),!!m&&m.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("h4",null,e.key),l.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.value}}))})),l.a.createElement("a",{className:"tool-locations-map-location-body-permalink",href:c},"Read More")),l.a.createElement("ul",{className:"tool-locations-map-location-body-details-additional-notes"},!!s&&l.a.createElement("h4",{className:"tool-locations-map-location-body-details-additional-notes-title"},"Additional Notes"),!!s&&s.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("h4",null,e.key),l.a.createElement("p",null,e.value))}))))),l.a.createElement("div",{className:"cell large-6"},l.a.createElement("div",{className:"tool-locations-map-location-body-contacts"},l.a.createElement("h4",{className:"tool-locations-map-location-body-contacts-title"},"Contacts"),i?i.map((function(e,t){return l.a.createElement("ul",{key:t,className:"tool-locations-map-location-body-contact"},!(!e.first_name||!e.last_name)&&l.a.createElement("li",{className:"tool-locations-map-location-body-contact-first-name"},e.first_name," ",e.last_name),!!e.job_title&&l.a.createElement("li",{className:"tool-locations-map-location-body-contact-job-title"},e.job_title),!!e.phone&&l.a.createElement("li",{className:"tool-locations-map-location-body-contact-phone"},"P: ",l.a.createElement("a",{href:"tel:".concat(e.phone)},e.phone)),!!e.mobile&&l.a.createElement("li",{className:"tool-locations-map-location-body-contact-mobile"},"M: ",l.a.createElement("a",{href:"tel:".concat(e.mobile)},e.mobile)),!!e.fax&&l.a.createElement("li",{className:"tool-locations-map-location-body-contact-fax"},"F: ",l.a.createElement("a",{href:"tel:".concat(e.fax)},e.fax)),!!e.email&&l.a.createElement("li",{className:"tool-locations-map-location-body-contact-email"},"E: ",l.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)))})):l.a.createElement("p",null,"No contacts currently avalailable.")))))))};function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var W=function(e){var t=e.googleMapsApiKey,a=e.locations,n=e.maps,o=e.updateMaps,r=(e.isLoading,e.showLocationDetails,window.innerWidth<640?2.75:3.75);return l.a.createElement("div",{id:"tool-locations-map",className:"tool-locations-map"},l.a.createElement(_.a,{bootstrapURLKeys:{key:t},defaultCenter:{lat:48.3552767,lng:-99.9995795},zoom:r,options:{styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#0a0a0a"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f6f6f6"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{color:"#f6f6f6"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#dcdcdc"},{visibility:"on"}]}]},onChildClick:function(e,t){var a=document.getElementById(t.id),l=document.getElementById("tool-locations-map").scrollHeight;if(document.getElementsByClassName("site-content-overlay")[0].className+=" active",a.className+=" active",a.style.height=l+"px",!isNaN(t.lat)||!isNaN(t.lng)){var r={};r[t.id]={lat:t.lat?t.lat:42.303131,lng:t.lng?t.lng:-83.015341},o(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,{},n))}}},a.map((function(e){return l.a.createElement(D,{key:"marker-".concat(e.id),id:e.id,lat:e.map.lat,lng:e.map.lng})}))),a.map((function(e){return l.a.createElement(M,{key:"location-".concat(e.id),id:e.id,googleMapsApiKey:t,city:e.city,title:e.title,map:e.map,maps:n,permalink:e.permalink,contacts:e.contacts,additionalNotes:e.additionalNotes,details:e.details})})),l.a.createElement(u,{loaderClass:"site-content-loader-locations-tool"}))},F=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(""),s=Object(i.a)(c,2),d=s[0],u=s[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),y=f[0],g=f[1],b=Object(n.useState)(""),E=Object(i.a)(b,2),v=E[0],h=E[1],O=Object(n.useState)(""),j=Object(i.a)(O,2),N=j[0],w=j[1],x=Object(n.useState)([]),_=Object(i.a)(x,2),S=_[0],T=_[1],C=Object(n.useState)(""),k=Object(i.a)(C,2),P=k[0],B=k[1],L=Object(n.useState)([]),D=Object(i.a)(L,2),M=D[0],A=D[1],F=Object(n.useState)(""),H=Object(i.a)(F,2),K=H[0],R=H[1],q=Object(n.useState)([]),z=Object(i.a)(q,2),J=z[0],U=z[1],V=Object(n.useState)({}),G=Object(i.a)(V,2),Q=G[0],X=G[1],Y=Object(n.useState)(!1),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1];return Object(n.useLayoutEffect)((function(){var e=document.location.origin;m.a.get("".concat(e,"/wp-json/places/v1/terms?level=0")).then((function(e){var t=e.body.terms.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));T(t)})),m.a.get("".concat(e,"/wp-json/places/v1/terms?level=1")).then((function(e){var t=e.body.terms.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));A(t)})),m.a.get("".concat(e,"/wp-json/places/v1/terms?level=2")).then((function(e){var t=e.body.terms.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));U(t)})),m.a.get("".concat(e,"/wp-json/wp/v2/location_types")).then((function(e){var t=e.body.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));g(t)}))}),[]),Object(n.useEffect)((function(){var e=document.location.origin,t=document.getElementById("select-country").value;m.a.get("".concat(e,"/wp-json/places/v1/terms?").concat(t?"parent":"level","=").concat(t||1)).then((function(e){var t=e.body.terms.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));A(t)})),m.a.get("".concat(e,"/wp-json/places/v1/terms?").concat(t?"cities_by_country":"level","=").concat(t||2)).then((function(e){var t=e.body.terms.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));U(t)})),B(""),R("")}),[N]),Object(n.useEffect)((function(){var e=document.location.origin,t=document.getElementById("select-state_province").value;m.a.get("".concat(e,"/wp-json/places/v1/terms?").concat(t?"cities_by_state_province=":"level","=").concat(t||2)).then((function(e){var t=e.body.terms.map((function(e){return{name:e.name,id:e.id,slug:e.slug}}));U(t)})),R("")}),[P]),Object(n.useEffect)((function(){!function(){ee(!0);var e=document.getElementById("select-country").value,t=document.getElementById("select-state_province").value,a=document.getElementById("select-city").value,n=document.getElementById("select-location_type").value,l=document.getElementById("form-field_search").value,o=document.location.origin;m.a.get("".concat(o,"/wp-json/locations/v1/post?s=").concat(l,"&country=").concat(e,"&state_province=").concat(t,"&city=").concat(a,"&location_type=").concat(n)).then((function(e){if(e.body.posts.length){var t=e.body.posts.map((function(e){return{id:e.id,permalink:e.permalink,title:e.title,city:e.acf.city,contacts:e.acf.contacts,map:e.acf.map?e.acf.map:"",details:e.acf.details?e.acf.details:"",additionalNotes:e.acf.additional_notes?e.acf.additional_notes:""}}));r(t),ee(!1)}else r([]),ee(!1)}))}()}),[N,P,K,d,v]),Object(n.useEffect)((function(){var e=document.querySelector(".site-content-loader");$?e.classList.remove("hide"):e.classList.add("hide")}),[$]),l.a.createElement(l.a.Fragment,null,l.a.createElement(I,{updateLocations:r,type:d,updateType:u,types:y,updateTypes:g,search:v,updateSearch:h,country:N,updateCountry:w,countries:S,updateCountries:T,stateProvince:P,updateStateProvince:B,stateProvinces:M,updateStateProvinces:A,city:K,updateCity:R,cities:J,updateCities:U}),l.a.createElement(W,{googleMapsApiKey:e.googleMapsApiKey,locations:o,maps:Q,updateMaps:X,isLoading:$}))},H=window.googleMapsApiKey;document.getElementById("tool-glossary")?r.a.render(l.a.createElement(y,null),document.getElementById("tool-glossary")):document.getElementById("tool-external-resources")?r.a.render(l.a.createElement(v,null),document.getElementById("tool-external-resources")):document.getElementById("tool-borders")?r.a.render(l.a.createElement(L,{googleMapsApiKey:H}),document.getElementById("tool-borders")):document.getElementById("tool-locations")&&r.a.render(l.a.createElement(F,{googleMapsApiKey:H}),document.getElementById("tool-locations"))}},[[17,1,2]]]);
//# sourceMappingURL=main.0a610d21.chunk.js.map